# ๐ ุชุญุฏูุซุงุช ุงููุณุฎุฉ 31 - B36 System

## ๐ฏ ููุฎุต ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุชูุฏู ูุชุถูู:
1. **ุฅุฏุฎุงู ูุฏูู ููุฃุฑูุงู** ูู ุงูููุธู ุงูุฎุงุฑุฌู ุงูุนุงุฏู
2. **ูุธุงู ูุตุงุฏูุฉ ุงูุฃุนุฏุงุฏ** ุนูุฏ ูุตูู ุงููุฑุดุญูู ูููุงุนุงุช
3. **ุชุชุจุน ุงูุฃุดุฎุงุต ุงูููููุฏูู** (ุงููุงูุฏ)
4. **ุงุญุชุณุงุจ ุงูุฎุฏูุฉ ุนูุฏ ุงูุฎุฑูุฌ ุงูููุงุฆู** ูู ุงููุจูู

---

## 1๏ธโฃ ูุงุฌูุฉ ุงูููุธู ุงูุฎุงุฑุฌู ุงูุนุงุฏู (ุชุญุฏูุซ)

### ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ:
ุจุฏูุงู ูู ุฃุฒุฑุงุฑ ุงูุฒูุงุฏุฉ ูุงูููุตุงูุ ูููู ููููุธู ุงูุฎุงุฑุฌู ุงูุนุงุฏู ุงูุขู:
- โ ุฅุฏุฎุงู ุนุฏุฏ ุงููุฑุดุญูู ุงููุงุตููู ูุจุงุดุฑุฉ ูู ุฎุงูุฉ ูุตูุฉ
- โ ุชุณุฌูู ุงูุฑูู ุจุถุบุทุฉ ุฒุฑ ูุงุญุฏุฉ
- โ ุงููุงุฌูุฉ ุฃูุซุฑ ูุถูุญุงู ูุณูููุฉ

### ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุฅุฏุฎุงู ุนุฏุฏ ุงููุฑุดุญูู ุงููุงุตููู    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงูุนุฏุฏ ุงูุฐู ูุตู:                 โ
โ [_____________________]          โ
โ                                 โ
โ  [  ุชุณุฌูู ุงููุงุตููู  ]           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงูููุฏ:
```javascript
window.submitArrivalCount = async () => {
    const input = document.getElementById('arrivalCount');
    const count = parseInt(input.value);
    
    // ุงูุชุญูู ูู ุตุญุฉ ุงูุฅุฏุฎุงู
    // ุชุญุฏูุซ ุนุฏุงุฏ ุงูุงูุชุธุงุฑ ุงูุฎุงุฑุฌู
    // ุชุณุฌูู ุงูุนูููุฉ ูู Audit Log
}
```

---

## 2๏ธโฃ ูุธุงู ุงููุตุงุฏูุฉ (Verification System) - ุงูุฌุฏูุฏ

### ุงูููููู:
ุนูุฏ ูุตูู ุงููุฑุดุญูู ุฅูู ูุงุนุฉ ูุงุ ูุฌุจ ุนูู ูุณุคูู ุงููุงุนุฉ **ุงูุชุญูู ูู ุงูุนุฏุฏ ุงููุนูู** ุงูุฐู ูุตูุ ูููุณ ูุฌุฑุฏ ูุจูู ุงูุฑูู ุงููุชููุน.

### ุงูุญุงูุงุช ุงูููููุฉ:

| ุงูุญุงูุฉ | ุงููุตู | ุงููุซุงู |
|------|-------|--------|
| **ูุงูู** | ุงูุนุฏุฏ ุงููุนูู = ุงููุชููุน | ูุชููุน: 50ุ ูุตู: 50 โ |
| **ูุงูุต** | ุงูุนุฏุฏ ุงููุนูู < ุงููุชููุน | ูุชููุน: 50ุ ูุตู: 48 (ูุงูุฏ: 2) โ๏ธ |
| **ุฒุงุฆุฏ** | ุงูุนุฏุฏ ุงููุนูู > ุงููุชููุน | ูุชููุน: 50ุ ูุตู: 52 (ุฒูุงุฏุฉ: 2) |

### ุชุฏูู ุงูุนูููุฉ:

```
1. ูุดุฑู ุงููุจูู ูููุฐ ุงูููู
   โ
2. ูุชู ููู ุงููุฑุดุญูู ุฅูู ุงููุงุนุฉ
   โ
3. ููุธู ุงููุงุนุฉ ูุถุบุท "ูุตุงุฏูุฉ ุงููุตูู"
   โ
4. ูุธูุฑ ูููุฐุฌ ูุทูุจ:
   - ุงูุนุฏุฏ ุงููุชููุน (ูุนุฑูุถ ููุท)
   - ุงูุนุฏุฏ ุงููุนูู (ูุฏุฎูู ุงูููุธู)
   โ
5. ุนูุฏ ุชุฃููุฏ ุงููุตุงุฏูุฉ:
   - ุฅุฐุง ูุงู ููุงู ูุงูุฏ โ ูุชู ุชุณุฌููู ูู "missing_count"
   - ูุชู ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "verified"
```

### ุงูุฏุงูุฉ ุงูุฌุฏูุฏุฉ:
```javascript
window.verifyArrival = async (requestId) => {
    // ุนุฑุถ ูููุฐุฌ ุงููุตุงุฏูุฉ
    // ุญุณุงุจ ุงููุฑู (ุงููุงูุฏ)
    // ุชุญุฏูุซ ุงูุทูุจ ุจุญุงูุฉ "verified"
    // ุฅุถุงูุฉ ุงููุงูุฏ ุฅูู missing_count
    // ุชุณุฌูู ุงูุนูููุฉ ูู Audit Log
}
```

### ูุซุงู ุนููู:
```
ุงูุนุฏุฏ ุงููุชููุน: 50 ูุฑุดุญ
ุงูุนุฏุฏ ุงููุนูู: 48 ูุฑุดุญ
ุงููุงูุฏ: 2 ูุฑุดุญ

ุงูุฅุดุนุงุฑ: "ุชู ุงููุตุงุฏูุฉ: 48 ูุตููุงุ 2 ููููุฏูู"
```

---

## 3๏ธโฃ ุชุญุฏูุซ ููุทู "ุชูุช ุฎุฏูุชู" (ุงูุฎุฑูุฌ ุงูููุงุฆู)

### ุงูุชุบููุฑ ุงูุฑุฆูุณู:
ุงูุขู ูุชู ุงุญุชุณุงุจ ุงูุดุฎุต "ุชูุช ุฎุฏูุชู" **ููุท ุนูุฏ ุงูุฎุฑูุฌ ุงูููุงุฆู ูู ุงููุจูู** ุจุนุฏ ุงูุชูุงุก ุงูููุงุจูุงุช.

### ุงููุฑุงุญู ุงูุณุงุจูุฉ:
```
1. ุงูุฏุฎูู ูู ุงูุฎุงุฑุฌ
2. ุงูุงูุชุธุงุฑ
3. ุงูููุงุจูุฉ
4. ุงูุฎุฑูุฌ โ โ ููุง ูุชู ุงุญุชุณุงุจู ุงูุขู
```

### ุงูุฏุงูุฉ ุงููุญุฏุซุฉ:
```javascript
window.markServiceCompleted = async (requestId) => {
    const req = transferRequests.find(r => r.id === requestId);
    const actualCount = req.actualCount || req.count;
    
    // ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "completed"
    // ุฎุตู ุงูุนุฏุฏ ูู ุงููุงุนุฉ (current)
    // ุฅุถุงูุฉ ุงูุนุฏุฏ ุฅูู served_count
    // ุชุณุฌูู ุงูุนูููุฉ
}
```

### ููุงุญุธุฉ ูููุฉ:
- ูุชู ุงุณุชุฎุฏุงู `actualCount` (ุงูุนุฏุฏ ุงููุตุงุฏู ุนููู) ูููุณ `count` (ุงูุนุฏุฏ ุงูุฃุตูู)
- ูุฐุง ูุถูู ุฃู ุงูุฃุดุฎุงุต ุงูููููุฏูู ูุง ูุชู ุงุญุชุณุงุจูู ูุฎุฏูุฉ

---

## 4๏ธโฃ ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช (KPI)

### ุงูููุงููุณ ุงูุฌุฏูุฏุฉ:

| ุงููููุงุณ | ุงููุตู | ุงูุญุณุงุจ |
|--------|-------|--------|
| **ููุชุธุฑูู ุฎุงุฑุฌุงู** | ุฎุงุฑุฌ ุงููุจูู | outdoor_queue |
| **ูุงุนุงุช ุงูุงูุชุธุงุฑ** | ูู ูุงุนุงุช ุงูุงูุชุธุงุฑ | sum(waiting_halls.current) |
| **ุฏุงุฎู ุงููุจูู (ุฎุงุฑุฌ ุงููุงุนุงุช)** | ูู ุงูููุฑุงุช/ุงูุฃูุงูู ุงูุฃุฎุฑู | outdoor_queue - total_in_halls - served - missing |
| **ููููุฏูู/ุชุงุฆููู** | ุงููุงูุฏ ูู ุงูุนูููุงุช | missing_count |
| **ุชูุช ุฎุฏูุชูู** | ุฎุฑุฌูุง ูู ุงููุจูู | served_count |

### ุงูุญุณุงุจ:
```javascript
const missingCount = globalStats.missing_count || 0;
const indoorNotInHalls = globalStats.outdoor_queue - totalIndoor - globalStats.served - missingCount;
```

### ุนุฑุถ KPI:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ููุชุธุฑูู  โ ูุงุนุงุช   โ ุฏุงุฎู ุงููุจูู โ ููููุฏูู โ ุชูุช ุฎุฏูุชูู โ
โ ุฎุงุฑุฌุงู   โ ุงูุงูุชุธุงุฑโ (ุฎุงุฑุฌ ุงููุงุนุงุช)โ /ุชุงุฆููู โ            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ   50     โ   30    โ      5      โ    2    โ     13      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 5๏ธโฃ ุญุงูุงุช ุงูุทูุจุงุช ุงููุญุฏุซุฉ

| ุงูุญุงูุฉ | ุงููุตู | ูู ูููู ุจูุง | ุงูุฅุฌุฑุงุก ุงูุชุงูู |
|------|-------|-----------|-------------|
| `pending` | ุทูุจ ุฌุฏูุฏ | ุงููุดุฑู ุงูุฎุงุฑุฌู | ุชูููุฐ ุงูููู |
| `in_progress` | ุงููุฑุดุญูู ูู ุงูุทุฑูู | ูุดุฑู ุงููุจูู | ูุตุงุฏูุฉ ุงููุตูู |
| `verified` | ุชูุช ุงููุตุงุฏูุฉ ุนูู ุงูุนุฏุฏ | ููุธู ุงููุงุนุฉ | ุงุญุชุณุงุจ ุงูุฎุฏูุฉ |
| `completed` | ุชูุช ุงูุฎุฏูุฉ ูุงูุฎุฑูุฌ | ููุธู ุงููุงุนุฉ | ุงูุชูู |

---

## 6๏ธโฃ ุชุฏูู ุงูุนูู ุงููุงูู (ูุซุงู ุนููู)

### ุงูุณููุงุฑูู: 50 ูุฑุดุญ ูุฏุฎููู ุงููุจูู

**ุงูุฎุทูุฉ 1: ุงูููุธู ุงูุฎุงุฑุฌู ุงูุนุงุฏู**
```
1. ูุฏุฎู ุงูุฑูู: 50
2. ูุถุบุท "ุชุณุฌูู ุงููุงุตููู"
3. ูุชู ุชุญุฏูุซ outdoor_queue = 50
4. ุชุณุฌูู: "ููุธู ุฎุงุฑุฌู ุนุงุฏู ุณุฌู ูุตูู 50 ูุฑุดุญ"
```

**ุงูุฎุทูุฉ 2: ุงููุดุฑู ุงูุฎุงุฑุฌู**
```
1. ููุดุฆ ุทูุจ ููู (50 ูุฑุดุญ โ ูุงุนุฉ ุงูุงูุชุธุงุฑ 1)
2. ุงูุทูุจ ูู ุญุงูุฉ "pending"
```

**ุงูุฎุทูุฉ 3: ูุดุฑู ุงููุจูู**
```
1. ูุฑู ุงูุทูุจ
2. ูุถุบุท "ุชูููุฐ ุงูููู"
3. ูุชู ููู 50 ูุฑุดุญ ุฅูู ูุงุนุฉ ุงูุงูุชุธุงุฑ 1
4. ุงูุทูุจ ููุชูู ุฅูู "in_progress"
5. ุฅุดุนุงุฑ: "๐ ููุฌุฏ 50 ูุฑุดุญ ูู ุทุฑูููู ุฅูู ูุงุนุฉ ุงูุงูุชุธุงุฑ 1"
```

**ุงูุฎุทูุฉ 4: ููุธู ูุงุนุฉ ุงูุงูุชุธุงุฑ**
```
1. ูุฑู ุงูุทูุจ ูู ูุงุฆูุชู
2. ูุถุบุท "ูุตุงุฏูุฉ ุงููุตูู"
3. ูุธูุฑ ูููุฐุฌ:
   - ุงูุนุฏุฏ ุงููุชููุน: 50
   - ุงูุนุฏุฏ ุงููุนูู: [ูุฏุฎู ุงูุฑูู]
4. ูุฏุฎู: 48 (ูุฃู 2 ูู ูุตููุง)
5. ูุถุบุท "ูุตุงุฏูุฉ"
6. ุงููุชูุฌุฉ:
   - 48 ูุฑุดุญ ูู ุงููุงุนุฉ
   - 2 ููููุฏูู (ูุถุงููู ุฅูู missing_count)
   - ุงูุทูุจ ููุชูู ุฅูู "verified"
   - ุฅุดุนุงุฑ: "ุชู ุงููุตุงุฏูุฉ: 48 ูุตููุงุ 2 ููููุฏูู"
```

**ุงูุฎุทูุฉ 5: ููู ูู ุงูุงูุชุธุงุฑ ุฅูู ุงูููุงุจูุงุช**
```
1. ูุดุฑู ุงููุจูู ูููู 30 ูุฑุดุญ ูู ุงูุงูุชุธุงุฑ ุฅูู ูุงุนุฉ ุงูููุงุจูุงุช 1
2. ููุณ ุงูุนูููุฉ (ูุตุงุฏูุฉ ุงููุตูู)
3. ูุชู ุชุณุฌูู ุฃู ูุงูุฏ ุฅุถุงูู
```

**ุงูุฎุทูุฉ 6: ููุธู ูุงุนุฉ ุงูููุงุจูุงุช**
```
1. ุจุนุฏ ุงูุชูุงุก ุงูููุงุจูุงุช
2. ูุถุบุท "ุชู ุงุญุชุณุงุจ ุงูุฎุฏูุฉ"
3. ูุชู:
   - ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "completed"
   - ุฎุตู 30 ูู ูุงุนุฉ ุงูููุงุจูุงุช (current)
   - ุฅุถุงูุฉ 30 ุฅูู served_count
   - ุชุณุฌูู: "ุชู ุงุญุชุณุงุจ ุฎุฏูุฉ 30 ูุฑุดุญ (ุฎุฑูุฌ ูู ุงููุจูู)"
```

---

## 7๏ธโฃ ุงูุฅุญุตุงุฆูุงุช ุงูููุงุฆูุฉ

ุจุนุฏ ุงูุชูุงุก ุงูุนูููุฉ:
```
ููุชุธุฑูู ุฎุงุฑุฌุงู:     0
ูุงุนุงุช ุงูุงูุชุธุงุฑ:     18 (50 - 30 - 2 ุงูููููุฏูู)
ุฏุงุฎู ุงููุจูู:        0
ููููุฏูู/ุชุงุฆููู:    2
ุชูุช ุฎุฏูุชูู:        30
```

---

## 8๏ธโฃ ุงูุญุณุงุจุงุช ุงูุชุฌุฑูุจูุฉ ุงููุญุฏุซุฉ

| ุงุณู ุงููุณุชุฎุฏู | ูููุฉ ุงููุฑูุฑ | ุงูุฏูุฑ | ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ |
|-------------|------------|-------|-------------|
| `external_regular` | `1234` | ููุธู ุฎุงุฑุฌู ุนุงุฏู | ุฅุฏุฎุงู ูุฏูู ููุฃุฑูุงู |
| `hall_staff_1` | `1234` | ููุธู ูุงุนุฉ | ูุตุงุฏูุฉ ุงููุตูู + ุงุญุชุณุงุจ ุงูุฎุฏูุฉ |
| `hall_staff_2` | `1234` | ููุธู ูุงุนุฉ | ูุตุงุฏูุฉ ุงููุตูู + ุงุญุชุณุงุจ ุงูุฎุฏูุฉ |

---

## 9๏ธโฃ ุงูููุงุฆุณ ุงูุฑุฆูุณูุฉ

โ **ุฏูุฉ ุฃุนูู:** ุชุชุจุน ุฏููู ููุฃุดุฎุงุต ุงูููููุฏูู
โ **ุดูุงููุฉ:** ูุนุฑูุฉ ุฃูู ุฐูุจ ูู ุดุฎุต
โ **ูุฑููุฉ:** ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูุงููุฑููุงุช
โ **ุชูุงุฑูุฑ ุฏูููุฉ:** ุฅุญุตุงุฆูุงุช ุญููููุฉ ูููุณ ูุธุฑูุฉ
โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู:** ูุงุฌูุงุช ุจุณูุทุฉ ููุงุถุญุฉ

---

## ๐ ููุงุฑูุฉ ูุจู ูุจุนุฏ

### ูุจู (ุงููุณุฎุฉ 30):
- โ ุชูููุฐ ููุฑู ุจุฏูู ูุตุงุฏูุฉ
- โ ูุง ููุฌุฏ ุชุชุจุน ููููููุฏูู
- โ ุงุญุชุณุงุจ ุงูุฎุฏูุฉ ุนูุฏ ุงูููู ููููุงุจูุงุช

### ุจุนุฏ (ุงููุณุฎุฉ 31):
- โ ูุตุงุฏูุฉ ุงูุนุฏุฏ ุนูุฏ ุงููุตูู
- โ ุชุชุจุน ุฏููู ููููููุฏูู ูุงููุงูุฏ
- โ ุงุญุชุณุงุจ ุงูุฎุฏูุฉ ุนูุฏ ุงูุฎุฑูุฌ ุงูููุงุฆู ูู ุงููุจูู
- โ ุฅุฏุฎุงู ูุฏูู ููุฃุฑูุงู ูู ุงูููุธู ุงูุฎุงุฑุฌู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุงูุฏ ููุถุงู ุชููุงุฆูุงู:** ุนูุฏ ุงููุตุงุฏูุฉุ ุฃู ูุฑู ูุชู ุฅุถุงูุชู ุฅูู `missing_count`
2. **ุงูุฎุฑูุฌ ููุฎุตู ูู ุงููุงุนุฉ:** ุนูุฏ ุงุญุชุณุงุจ ุงูุฎุฏูุฉุ ูุชู ุฎุตู ุงูุนุฏุฏ ูู `current` ูููุงุนุฉ
3. **ุงูุฅุดุนุงุฑุงุช ูุงุถุญุฉ:** ุชุธูุฑ ุฑุณุงุฆู ููุตูุฉ ุนูุฏ ูู ุฎุทูุฉ
4. **ุงูุณุฌู ูุงูู:** ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูู Audit Log

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

1. ุฅุถุงูุฉ ุชูุงุฑูุฑ ููููุฉ ุจุงูููููุฏูู
2. ุฅุถุงูุฉ ุชูุจููุงุช ุนูุฏ ุชุฌุงูุฒ ูุณุจุฉ ูุนููุฉ ูู ุงููุงูุฏ
3. ุฅุถุงูุฉ ุฎุงุตูุฉ "ุงูุจุญุซ" ุนู ุงูููููุฏูู
4. ุฅุถุงูุฉ ูููุฐุฌ "ุฅุถุงูุฉ ููููุฏ ุชู ุงูุนุซูุฑ ุนููู"
5. ุฅุถุงูุฉ ุฑุณูู ุจูุงููุฉ ูููุงูุฏ ูุงูุฎุฏูุงุช

---

**ุชู ุชุญุฏูุซ ุงููุธุงู ุจูุฌุงุญ! โ**

**ุงููุณุฎุฉ 31 ุชููุฑ ูุธุงูุงู ูุชูุฏูุงู ูุดุงููุงู ูุฅุฏุงุฑุฉ ุชุฏูู ุงููุฑุดุญูู ูุน ุฏูุฉ ุนุงููุฉ ูุชุชุจุน ูุงูู.**
